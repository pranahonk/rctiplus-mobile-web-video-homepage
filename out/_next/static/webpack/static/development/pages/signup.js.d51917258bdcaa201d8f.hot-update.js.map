{"version":3,"file":"static/webpack/static/development/pages/signup.js.d51917258bdcaa201d8f.hot-update.js","sources":["webpack:///./components/Includes/Tab/TabSignup.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport registerActions from '../../../redux/actions/registerActions';\nimport userActions from '../../../redux/actions/userActions';\nimport '../../../assets/scss/components/signup.scss';\n\nimport {\n\tTabContent,\n\tTabPane,\n\tNav,\n\tNavItem,\n\tNavLink,\n\tFormGroup,\n\tLabel,\n\tInput,\n\tRow,\n\tCol,\n\tFormFeedback,\n\tInputGroup,\n\tInputGroupAddon,\n\tInputGroupText\n} from 'reactstrap';\nimport classnames from 'classnames';\n\nimport { Subject }  from 'rxjs';\nimport { debounceTime, throttleTime } from 'rxjs/operators';\n\nclass TabSignup extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactiveTab: '1',\n\t\t\tphone_number_invalid: false,\n\t\t\tphone_invalid_message: '',\n\t\t\temail_invalid: false,\n\t\t\temail_invalid_message: ''\n\t\t};\n\n\t\tthis.subject = new Subject();\n\t}\n\n\ttoggle(tab) {\n\t\tif (this.state.activeTab !== tab) {\n\t\t\tthis.setState({ activeTab: tab }, () => {\n\t\t\t\tif (this.state.activeTab == '1') {\n\t\t\t\t\tthis.props.setUsernameType('PHONE_NUMBER');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.props.setUsernameType('EMAIL');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tonChangeUsername(e) {\n\t\tthis.props.setUsername(e.target.value);\n\t\tthis.subject.next();\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.state.activeTab == '1') {\n\t\t\tthis.props.setUsernameType('PHONE_NUMBER');\n\t\t}\n\t\telse {\n\t\t\tthis.props.setUsernameType('EMAIL');\n\t\t}\n\n\t\tthis.subject\n\t\t\t.pipe(debounceTime(500))\n\t\t\t.subscribe(() => {\n\t\t\t\tlet username = this.props.registration.username;\n\t\t\t\tif (this.state.activeTab == '1') {\n\t\t\t\t\tusername = '62' + username;\n\t\t\t\t}\n\n\t\t\t\tif (this.props.registration.username) {\n\t\t\t\t\tthis.props.checkUser(username)\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\t\t\tconst message = response.data.status.message_client;\n\t\t\t\t\t\t\t\tif (response.data.status.code === 0) {\n\t\t\t\t\t\t\t\t\tif (this.state.activeTab == '1') {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tphone_number_invalid: message != 'Your phone is Available',\n\t\t\t\t\t\t\t\t\t\t\tphone_invalid_message: message\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (this.state.activeTab == '2') {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\temail_invalid: message != 'Your email is Available',\n\t\t\t\t\t\t\t\t\t\t\temail_invalid_message: message\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (response.data.status.code === 1) {\n\t\t\t\t\t\t\t\t\tif (this.state.activeTab == '1') {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tphone_number_invalid: true,\n\t\t\t\t\t\t\t\t\t\t\tphone_invalid_message: message\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (this.state.activeTab == '2') {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\temail_invalid: true,\n\t\t\t\t\t\t\t\t\t\t\temail_invalid_message: message\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\tif (error.status === 200 && error.data.status.code === 1) {\n\t\t\t\t\t\t\t\tif (this.state.activeTab == '1') {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tphone_number_invalid: true,\n\t\t\t\t\t\t\t\t\t\tphone_invalid_message: error.data.status.message_client\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (this.state.activeTab == '2') {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\temail_invalid: true,\n\t\t\t\t\t\t\t\t\t\temail_invalid_message: error.data.status.message_client\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"nav-tab-wrapper\">\n\t\t\t\t<Nav tabs>\n\t\t\t\t\t<NavItem className=\"nav-signup-item\">\n\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\tstyle={{ fontSize: '0.8rem' }}\n\t\t\t\t\t\t\tclassName={classnames({ active: this.state.activeTab === '1' })}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.toggle('1');\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tPhone Number\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<NavItem className=\"nav-signup-item\">\n\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\tstyle={{ fontSize: '0.8rem' }}\n\t\t\t\t\t\t\tclassName={classnames({ active: this.state.activeTab === '2' })}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.toggle('2');\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</NavItem>\n\t\t\t\t</Nav>\n\t\t\t\t<TabContent activeTab={this.state.activeTab}>\n\t\t\t\t\t<TabPane tabId=\"1\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col sm=\"12\">\n\t\t\t\t\t\t\t\t<FormGroup className=\"frmInput1\">\n\t\t\t\t\t\t\t\t\t<Label for=\"email\">Phone Number</Label>\n\t\t\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\n\t\t\t\t\t\t\t\t\t\t\t<InputGroupText className={'inpt-form addon-left ' + (!this.state.phone_number_invalid && !!this.props.registration.username ? 'valid-border-color' : (this.state.phone_number_invalid ? 'invalid-border-color' : ''))}>+62</InputGroupText>\n\t\t\t\t\t\t\t\t\t\t</InputGroupAddon>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inpt-form addon-left-input\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"phone_number\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter your phone number\"\n\t\t\t\t\t\t\t\t\t\t\tvalid={!this.state.phone_number_invalid && !!this.props.registration.username}\n\t\t\t\t\t\t\t\t\t\t\tinvalid={this.state.phone_number_invalid}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeUsername.bind(this)} />\n\t\t\t\t\t\t\t\t\t\t<FormFeedback valid={!this.state.phone_number_invalid && !!this.props.registration.username}>{this.state.phone_invalid_message}</FormFeedback>\n\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</TabPane>\n\t\t\t\t\t<TabPane tabId=\"2\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col sm=\"12\">\n\t\t\t\t\t\t\t\t<FormGroup className=\"frmInput1\">\n\t\t\t\t\t\t\t\t\t<Label for=\"email\">Email</Label>\n\t\t\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inpt-form\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter email\"\n\t\t\t\t\t\t\t\t\t\t\tinvalid={this.state.email_invalid}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeUsername.bind(this)} />\n\t\t\t\t\t\t\t\t\t\t<FormFeedback>{this.state.email_invalid_message}</FormFeedback>\n\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</TabPane>\n\t\t\t\t</TabContent>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => state, {\n\t...registerActions,\n\t...userActions\n})(TabSignup);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAgBA;AAEA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAVA;AAWA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AApLA;AACA;AAsLA;AAAA;AAAA;;;;A","sourceRoot":""}